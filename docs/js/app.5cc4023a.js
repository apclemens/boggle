(function(t){function e(e){for(var n,s,i=e[0],d=e[1],u=e[2],c=0,h=[];c<i.length;c++)s=i[c],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&h.push(o[s][0]),o[s]=0;for(n in d)Object.prototype.hasOwnProperty.call(d,n)&&(t[n]=d[n]);l&&l(e);while(h.length)h.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,i=1;i<r.length;i++){var d=r[i];0!==o[d]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},o={app:0},a=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],d=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=d;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"0433":function(t,e,r){},"219d":function(t,e,r){"use strict";var n=r("7a0b"),o=r.n(n);o.a},"22e3":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("span",[t._v("Default stuff goes here")]),r("router-view")],1)},a=[],s={name:"app",components:{},data:function(){return{}}},i=s,d=r("2877"),u=Object(d["a"])(i,o,a,!1,null,null,null),l=u.exports,c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"game"}},[t.admin?r("div",{staticClass:"admin_panel"},[t.before_game?r("button",{on:{click:function(e){return t.sendStartCommand()}}},[t._v("Start game")]):t._e()]):t._e(),r("div",{staticClass:"grid"},[r("Grid",{directives:[{name:"show",rawName:"v-show",value:!t.countDown,expression:"!countDown"}],attrs:{letters:t.boardLetters,boardSize:t.boardSize,path:t.currentWordPath,width:80}})],1),t.scoring?t._e():r("span",[t._v(t._s(t.minutes)+":"+t._s(t.seconds))]),r("ul",{staticClass:"submitted_word_list"},t._l(t.submittedWords,(function(e){return r("li",[t._v("\n          "+t._s(e)+"\n      ")])})),0),r("span",[t._v(t._s(t.message))]),t.scoring?t._e():r("input",{directives:[{name:"model",rawName:"v-model",value:t.word,expression:"word"}],domProps:{value:t.word},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submitWord(e)},input:function(e){e.target.composing||(t.word=e.target.value)}}}),t.longestWords.length?r("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[r("h3",[t._v("Longest possible words")]),r("ul",t._l(t.longestWords,(function(e){return r("li",[t._v(t._s(e))])})),0)]):t._e(),t.scoring?r("ScoreBoard",{ref:"scoreboard",attrs:{wordInfo:t.wordInfo,wordLists:t.wordLists,boardSize:t.boardSize,names:t.names,boardLetters:t.boardLetters}}):t._e()],1)},h=[],f=(r("a481"),r("7f7f"),r("ac6a"),r("5df3"),r("4f7f"),r("28a5"),r("f576"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"board"},[r("svg",{attrs:{width:t.width*t.boardSize,height:t.width*t.boardSize}},[t._l(Math.pow(t.boardSize,2),(function(e){return r("rect",{staticStyle:{fill:"rgba(0,0,0,0)","stroke-width":"1",stroke:"black"},attrs:{x:(e-1)%t.boardSize*t.width,y:t.width*Math.floor((e-1)/t.boardSize),width:t.width,height:t.width}})})),t._l(Math.pow(t.boardSize,2),(function(e){return r("text",{style:{fontSize:t.width/2+"px"},attrs:{x:t.width/2+(e-1)%t.boardSize*t.width,y:t.width/2+t.width/6+t.width*Math.floor((e-1)/t.boardSize)}},[t._v("\n            "+t._s("q"==t.letters[e-1]?"Qu":t.letters[e-1].toUpperCase())+"\n          ")])})),r("polyline",{staticStyle:{fill:"none",stroke:"black","stroke-width":"3"},attrs:{points:t.polylinePath}})],2)])}),m=[],g=(r("c5f6"),{name:"Board",props:{letters:String,path:Array,width:Number,boardSize:Number},computed:{polylinePath:function(){for(var t=[],e=0;e<this.path.length;e++)t.push(this.width/2+this.width*(this.path[e]%this.boardSize)+","+(this.width/2+this.width*Math.floor(this.path[e]/this.boardSize)));return t.join(" ")}}}),p=g,b=(r("8d96"),Object(d["a"])(p,f,m,!1,null,"0266996f",null)),v=b.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"scoreboard",on:{mousemove:t.mouseOverWords,mouseleave:function(e){t.hover_word=""}}},[t.waiting?r("div",[t._v("Scoring...")]):t._e(),t._l(t.wordLists,(function(e,n){return r("div",{staticClass:"wordList"},[r("h3",[t._v(t._s(t.names[n][0])+" - "+t._s(t.names[n][1]))]),r("ul",t._l(e,(function(e,o){return r("li",{class:{good:-1!=t.goodWords.indexOf(e),bad:-1!=t.badWords.indexOf(e)}},[t._v("\n            "+t._s(-1!=t.goodWords.concat(t.badWords).indexOf(e)||t.currentIndex[0]==n&&t.currentIndex[1]==o?e:Array(e.length+1).join("*"))+"\n            ")])})),0)])}))],2)},_=[];function S(t,e){if(!t)return[];if(!e)return t.split("").map((function(t,e){return e}));for(var r=[],n=0;n<t.length;++n)t.substring(n,n+e.length)==e&&r.push(n);return r}function y(t,e){return 4==t?[[1,4,5],[0,4,5,6,2],[1,5,6,7,3],[2,6,7],[0,1,5,8,9],[0,1,2,4,6,8,9,10],[1,2,3,5,7,9,10,11],[2,3,6,10,11],[4,5,9,12,13],[4,5,6,8,10,12,13,14],[5,6,7,9,11,13,14,15],[6,7,10,14,15],[8,9,13],[8,9,10,12,14],[9,10,11,13,15],[10,11,14]][e]:5==t?[[1,5,6],[0,5,6,7,2],[1,6,7,8,3],[2,7,8,9,4],[3,8,9],[0,1,6,11,10],[0,1,2,5,7,10,11,12],[1,2,3,6,8,11,12,13],[2,3,4,7,9,12,13,14],[3,4,8,13,14],[5,6,11,15,16],[5,6,7,10,12,15,16,17],[6,7,8,11,13,16,17,18],[7,8,9,12,13,17,18,19],[8,9,13,18,19],[10,11,16,20,21],[10,11,12,15,17,20,21,22],[11,12,13,16,18,21,22,23],[12,13,14,17,19,22,23,24],[13,14,18,23,24],[15,16,21],[15,16,17,20,22],[16,17,18,21,23],[17,18,19,22,24],[18,19,23]][e]:void 0}function W(t,e){if(new Set(e).size!==e.length)return!1;for(var r=1;r<e.length;r++)if(-1==y(t,e[r-1]).indexOf(e[r]))return!1;return!0}var x,O={name:"ScoreBoard",components:{Grid:v},props:{wordLists:Array,names:Array,boardLetters:String,boardSize:Number},data:function(){return{goodWords:[],badWords:[],currentIndex:[-1,-1],waiting:!0,path:[],mouse_location_x:0,mouse_location_y:0,hover_word:""}},methods:{mouseOverWords:function(t){this.mouse_location_x=t.clientX,this.mouse_location_y=t.clientY,t.target.classList.contains("good")&&(this.hover_word=t.target.innerHTML.trim())},checkWord:function(t){for(var e=t.replace("qu","q"),r=[],n=0;n<e.length;n++)r.push(S(this.boardLetters,e[n]));var o,a=[];for(n=0;n<r[0].length;n++)a.push([r[0][n]]);for(n=1;n<e.length;n++)while(1){if(!a.length)return!1;if(a[0].length!=n)break;o=a.shift();for(var s=0;s<r[n].length;s++)a.push(o.concat(r[n][s]))}for(n=0;n<a.length;n++)if(W(this.boardSize,a[n]))return a[n];return!1},runAnimation:function(t){var e=this;this.waiting=!1;var r=[],n=0,o=[0,0,0,1,1,2,3,5,11];return this.wordLists.forEach((function(a,s){a.forEach((function(a,i){-1==r.indexOf(a)&&(r.push(a),n++,setTimeout((function(){e.currentIndex=[s,i],e.path=e.checkWord(a),setTimeout((function(){1==t[a].length?(e.goodWords.push(a),e.names[s][1]+=o[Math.min(8,a.length)]):e.badWords.push(a)}),1e3)}),2e3*n))}))})),n}}},k=O,z=(r("219d"),Object(d["a"])(k,w,_,!1,null,"804cc910",null)),L=z.exports,C=function(t,e){return String(t).padStart(e,"0")};function I(t,e){if(!t)return[];if(!e)return t.split("").map((function(t,e){return e}));for(var r=[],n=0;n<t.length;++n)t.substring(n,n+e.length)==e&&r.push(n);return r}function T(t,e){return 4==t?[[1,4,5],[0,4,5,6,2],[1,5,6,7,3],[2,6,7],[0,1,5,8,9],[0,1,2,4,6,8,9,10],[1,2,3,5,7,9,10,11],[2,3,6,10,11],[4,5,9,12,13],[4,5,6,8,10,12,13,14],[5,6,7,9,11,13,14,15],[6,7,10,14,15],[8,9,13],[8,9,10,12,14],[9,10,11,13,15],[10,11,14]][e]:5==t?[[1,5,6],[0,5,6,7,2],[1,6,7,8,3],[2,7,8,9,4],[3,8,9],[0,1,6,11,10],[0,1,2,5,7,10,11,12],[1,2,3,6,8,11,12,13],[2,3,4,7,9,12,13,14],[3,4,8,13,14],[5,6,11,15,16],[5,6,7,10,12,15,16,17],[6,7,8,11,13,16,17,18],[7,8,9,12,14,17,18,19],[8,9,13,18,19],[10,11,16,20,21],[10,11,12,15,17,20,21,22],[11,12,13,16,18,21,22,23],[12,13,14,17,19,22,23,24],[13,14,18,23,24],[15,16,21],[15,16,17,20,22],[16,17,18,21,23],[17,18,19,22,24],[18,19,23]][e]:void 0}function A(t,e){if(new Set(e).size!==e.length)return!1;for(var r=1;r<e.length;r++)if(console.log(t),-1==T(t,e[r-1]).indexOf(e[r]))return!1;return!0}x="https://flask-boggle.herokuapp.com/",x="http://localhost:5000/";var D,M={name:"game",components:{Grid:v,ScoreBoard:L},data:function(){return{gameID:"",boardSize:4,admin:!0,name:"",boardLetters:"                ",submittedWords:[],word:"",message:"",startTime:(new Date).getTime(),minutes:0,seconds:0,scoring:!1,before_game:!0,wordInfo:{},wordLists:[],names:[],countDown:!1,longestWords:[]}},computed:{currentWordPath:function(){return this.word?this.checkWord(this.word):[]}},beforeMount:function(){this.name=prompt("What is your name?"),this.gameID=this.$route.params.gameId},mounted:function(){this.waitForStart(Math.random())},methods:{sendStartCommand:function(){var t=r("bc3a").default;t.get(x+"startgame/"+this.gameID,{headers:{"Access-Control-Allow-Origin":"*"}})},waitForStart:function(t){var e=this,n=r("bc3a").default,o=setInterval((function(){n.get(x+"getstarttime/"+e.gameID,{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(t){t.data.start&&o&&(clearInterval(o),o=0,e.startTime=t.data.start,e.startGame())}))}),1e3)},startGame:function(){var t=this,e=60;this.before_game=!1,this.scoring=!1,this.wordLists.splice(0,this.wordLists.length),this.names.splice(0,this.names.length),this.longestWords.splice(0,this.longestWords.length);var n=r("bc3a").default;n.get(x+"gameinfo/"+this.gameID,{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(r){console.log(r),t.boardLetters=r.data.board,t.boardSize=r.data.boardSize,t.countDown=!0,t.startTime=new Date(r.data.startTime).getTime();var o=t.startTime+1e3*e,a=(new Date).getTime(),s=t.startTime-a,i=setInterval((function(){var e=(new Date).getTime(),r=t.startTime-e;t.minutes=C(Math.floor((r+1e3)%36e5/6e4)/2),t.seconds=C(Math.floor((r+1e3)%6e4/1e3),2),r<=1&&clearInterval(i)}),1e3);setTimeout((function(){n.get(x+"getlongestwords/"+t.gameID,{headers:{"Access-Control-Allow-Origin":"*"}}),t.countDown=!1;var r=setInterval((function(){var e=(new Date).getTime(),a=o-e;t.minutes=C(Math.floor(a%36e5/6e4),2),t.seconds=C(Math.floor(a%6e4/1e3),2),a<0&&(t.message="",t.word="",t.scoring=!0,clearInterval(r),n.post(x+"submitWords/"+t.gameID,{headers:{"Access-Control-Allow-Origin":"*"},wordList:t.submittedWords,name:t.name}))}),1e3);setTimeout((function(){n.get(x+"getScore/"+t.gameID,{headers:{"Access-Control-Allow-Origin":"*"}}).then((function(e){t.submittedWords.splice(0,t.submittedWords.length),console.log(e);for(var r=0;r<e.data.longestWords.length;r++)t.longestWords.push(e.data.longestWords[r]);for(r=0;r<e.data.wordLists.length;r++)t.wordLists.push(e.data.wordLists[r]),t.names.push([e.data.names[r],0]);var n=t.$refs.scoreboard.runAnimation(e.data.wordInfo)+1;setTimeout((function(){t.before_game=!0,t.waitForStart(Math.random())}),2e3*n)}))}),1e3*(e+3))}),s)}))},submitWord:function(){var t=this.word;if(this.word="",this.message="",-1==this.submittedWords.indexOf(t))if(t.length<3)this.message="Word must have 3 or more letters";else{var e=this.checkWord(t);e?this.submittedWords.push(t):this.message='"'+t+'" is not on the board'}else this.message="You've already submitted "+t},checkWord:function(t){for(var e=t.replace("qu","q"),r=[],n=0;n<e.length;n++)r.push(I(this.boardLetters,e[n]));var o,a=[];for(n=0;n<r[0].length;n++)a.push([r[0][n]]);for(n=1;n<e.length;n++)while(1){if(!a.length)return!1;if(a[0].length!=n)break;o=a.shift();for(var s=0;s<r[n].length;s++)A(this.boardSize,[o[o.length-1],r[n][s]])&&-1==o.indexOf(r[n][s])&&a.push(o.concat(r[n][s]))}for(n=0;n<a.length;n++)return a[n];return!1}}},j=M,P=(r("f662"),Object(d["a"])(j,c,h,!1,null,null,null)),$=P.exports,E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"homepage"}},[r("p",[t._v("This is the home page")]),r("p",[t._v("List of games")]),r("CreateGameLink")],1)},G=[],N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"create-game-link"},[r("button",{on:{click:t.startCreating}},[t._v("\n        Create game!\n    ")]),t.creating?r("div",{staticClass:"modal"},[r("label",{staticClass:"label",attrs:{for:"boardSize"}},[t._v("Size of board:")]),r("div",t._l(2,(function(e){return r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.settings.boardSize,expression:"settings.boardSize"}],attrs:{type:"radio",name:"boardSize",id:"boardSize"+e},domProps:{value:e+3,checked:t._q(t.settings.boardSize,e+3)},on:{change:function(r){return t.$set(t.settings,"boardSize",e+3)}}}),r("br"),r("label",{attrs:{for:"boardSize"+e}},[t._v(t._s(e+3)+"x"+t._s(e+3))])])})),0),r("button",{on:{click:t.create}},[t._v("\n            Create\n        ")])]):t._e(),t._v("\n    "+t._s(t.settings)+"\n    "+t._s(t.publicPrivate)+"\n")])},q=[];D="https://flask-boggle.herokuapp.com/",D="http://localhost:5000/";var B={name:"creategamelink",data:function(){return{creating:!1,publicPrivate:"public",settings:{rounds:10,roundLength:60,waitTime:30,boardSize:4,minWordLength:3,maxNumPlayers:5,password:""}}},methods:{startCreating:function(){this.creating=!0},create:function(){var t=this,e=r("bc3a").default;e.post(D+"creategame",{headers:{"Access-Control-Allow-Origin":"*"},settings:this.settings}).then((function(e){t.$router.push({name:"game",params:{gameId:e.data}})}))}}},F=B,J=(r("bd0d"),Object(d["a"])(F,N,q,!1,null,"e5ce349c",null)),Y=J.exports,H={name:"homepage",components:{CreateGameLink:Y},data:function(){return{}}},Q=H,U=Object(d["a"])(Q,E,G,!1,null,null,null),X=U.exports,K=r("bc3a"),R=r.n(K),V=r("a7fe"),Z=r.n(V),tt=r("8c4f");n["a"].config.productionTip=!1,n["a"].use(Z.a,R.a),n["a"].use(tt["a"]);var et=[{path:"/",component:X,name:"home",title:"home"},{path:"/game/:gameId",component:$,name:"game"}],rt=new tt["a"]({routes:et,base:"/",mode:"history"});new n["a"]({render:function(t){return t(l)},router:rt}).$mount("#app")},"7a0b":function(t,e,r){},"8d96":function(t,e,r){"use strict";var n=r("0433"),o=r.n(n);o.a},bd0d:function(t,e,r){"use strict";var n=r("22e3"),o=r.n(n);o.a},e64a:function(t,e,r){},f662:function(t,e,r){"use strict";var n=r("e64a"),o=r.n(n);o.a}});
//# sourceMappingURL=app.5cc4023a.js.map